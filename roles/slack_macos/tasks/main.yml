---
# tasks file for slack_macos
  - name: Download Slack Package
    get_url:
      url: https://downloads.slack-edge.com/desktop-releases/mac/universal/4.45.64/Slack-4.45.64-macOS.dmg
      dest: ./slack.dmg

  - name: Slack package uncompress
    become: yes
    command: hdiutil attach ./slack.dmg

  - name: Slack package installation
    become: yes
    command: cp -r /Volumes/Slack/Slack.app /Applications

  - name: Slack package umounting
    become: yes
    command: hdiutil detach /Volumes/Slack

  - name: Remove installation package
    file:
      path: ./slack.dmg
      state: absent
